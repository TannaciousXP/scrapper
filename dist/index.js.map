{"version":3,"sources":["../server/index.js"],"names":["config","app","use","json","urlencoded","extended","sf_woeid","T","consumer_key","process","env","C_KEY","consumer_secret","C_SECRET","access_token","M_KEY","access_token_secret","M_SECRET","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","getTrendsByPlace","woeid","Promise","res","get","id","err","data","sortedData","trends","sort","a","b","tweet_volume","testing","test","ele","console","log","PORT","listen"],"mappings":";;AAMA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;2cAbA;AACA;AACA;AACA;AACA;;AAOA,iBAAOA,MAAP;;;AAIA,IAAMC,MAAM,wBAAZ;;AAGAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAF,IAAIC,GAAJ,CAAQ,qBAAWE,UAAX,CAAsB,EAACC,UAAU,IAAX,EAAtB,CAAR;;AAEA,IAAMC,WAAW,OAAjB;;AAEA,IAAMC,IAAI,mBAAS;AACjBC,gBAAcC,QAAQC,GAAR,CAAYC,KADT;AAEjBC,mBAAiBH,QAAQC,GAAR,CAAYG,QAFZ;AAGjBC,gBAAcL,QAAQC,GAAR,CAAYK,KAHT;AAIjBC,uBAAqBP,QAAQC,GAAR,CAAYO;AAJhB,CAAT,CAAV;;AAOA,IAAIC,QAAQ,IAAIC,IAAJ,EAAZ;AACA,IAAIC,KAAKF,MAAMG,OAAN,EAAT;AACA,IAAIC,KAAKJ,MAAMK,QAAN,KAAmB,CAA5B,C,CAA+B;AAC/B,IAAIC,OAAON,MAAMO,WAAN,EAAX;;AAEA,IAAIL,KAAK,EAAT,EAAa;AACXA,OAAK,MAAMA,EAAX;AACD;;AAED,IAAIE,KAAK,EAAT,EAAa;AACXA,OAAK,MAAMA,EAAX;AACD;;AAEDJ,QAAWM,IAAX,SAAmBF,EAAnB,SAAyBF,EAAzB;;AAEA;;AAEA,IAAMM,mBAAmB,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAClC,SAAO,IAAIC,OAAJ,CAAY,UAACC,GAAD,EAAS;AAC1BtB,MAAEuB,GAAF,CAAM,cAAN,EAAsB,EAAEC,IAAIzB,QAAN,EAAtB,EAAuC,UAAC0B,GAAD,EAAMC,IAAN,EAAYJ,GAAZ,EAAoB;AACzD,UAAIK,aAAaD,KAAK,CAAL,EAAQE,MAAR,CAAeC,IAAf,CAAoB,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUA,EAAEC,YAAF,GAAiBF,EAAEE,YAA7B;AAAA,OAApB,CAAjB;AACAV,UAAIK,UAAJ;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAPD;;AASA,IAAMM;AAAA,qEAAU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACGd,iBAAiBpB,QAAjB,CADH;;AAAA;AACVmC,gBADU;AAAA;AAAA;AAAA;AAAA;;AAEd,6BAAgBA,IAAhB,uHAAsB;AAAbC,iBAAa;;AACpBC,sBAAQC,GAAR,CAAYF,GAAZ;AACD;AAJa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAOAF;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,IAAMK,OAAOpC,QAAQC,GAAR,CAAYmC,IAAZ,IAAoB,IAAjC;;AAEA5C,IAAI6C,MAAJ,CAAWD,IAAX,EAAiB;AAAA,SAAMF,QAAQC,GAAR,yBAAkCC,IAAlC,CAAN;AAAA,CAAjB","file":"index.js","sourcesContent":["// const express = require('express');\n// const path = require('path');\n// const bodyParser = require('body-parser');\n// const axios = require('axios');\n// const dotenv = require('dotenv').config();\n\nimport express from 'express';\nimport path from 'path';\nimport bodyParser from 'body-parser';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\ndotenv.config();\nimport Twit from 'twit';\nimport pollyFill from 'babel-polyfill';\n\nconst app = express();\n\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\n\nconst sf_woeid = 2487956;\n\nconst T = new Twit({\n  consumer_key: process.env.C_KEY,\n  consumer_secret: process.env.C_SECRET,\n  access_token: process.env.M_KEY,\n  access_token_secret: process.env.M_SECRET\n});\n\nvar today = new Date();\nvar dd = today.getDate();\nvar mm = today.getMonth() + 1; //January is 0!\nvar yyyy = today.getFullYear();\n\nif (dd < 10) {\n  dd = '0' + dd\n}\n\nif (mm < 10) {\n  mm = '0' + mm\n}\n\ntoday = `${yyyy}-${mm}-${dd}`;\n\n// sort by tweet_volume\n\nconst getTrendsByPlace = (woeid) => {\n  return new Promise((res) => {    \n    T.get('trends/place', { id: sf_woeid}, (err, data, res) => {\n      let sortedData = data[0].trends.sort((a, b) => b.tweet_volume - a.tweet_volume);\n      res(sortedData);\n    });\n  });\n};\n\nconst testing = async() => {\n  let test = await getTrendsByPlace(sf_woeid);\n  for (let ele of test) {\n    console.log(ele);\n  }\n}\n\ntesting();\n\n\n\n// T.get('search/tweets', { q: `tech since:${today}`, count: 5 }, function (err, data, response) {\n//   console.log(data)\n// })\n\n\n// T.get('users/suggestions/:slug', { slug: 'twitter'}, (err, data, res) => {\n//   console.log(data);\n// });\n\nconst PORT = process.env.PORT || 3000;\n\napp.listen(PORT, () => console.log(`Listening on port: ${PORT}`));"]}